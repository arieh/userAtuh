<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />	<title></title></head><body>    <ul>    	<li><a href="#" id='no_config'>Test Without Configuration</a></li>    	<li><a href="#" id="with_config">Test With Configuration</a></li>    </ul>    <ul id="results"></ul>    <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/mootools/1.2.4/mootools-yui-compressed.js'></script>    <script type="text/javascript" src="../../js/sha1.js"></script>	<script type="text/javascript" src="../../js/UserAtuh.js"></script>	<script type="text/javascript">	function provideNoConfigForm(){	    var form = new Element('form',{		    id:'login-form',		    action:'#'	    });	    form.adopt(	    	new Element('input',{type:'text',id:'user-name',value:'arieh'})	    	, new Element('input',{type:'password',id:'pass',value:'1234'})	    	, new Element('input',{type:'hidden',id:'temp-key',value:'1234'})	    );	    document.body.adopt(form);	    setEncryption();	    testMe();	    form.destroy();	} 	function provideConfigForm(){		var form = new Element('form',{            id:'login-form1',            action:'#'        });        form.adopt(            new Element('input',{type:'text',id:'user',value:'arieh'})            , new Element('input',{type:'password',id:'pwd',value:'1234'})            , new Element('input',{type:'hidden',id:'key',value:'1234'})        );        document.body.adopt(form);        setEncryption();        testMeConf();        form.destroy();	}	function testMe(){		var enc = $$('input[name=enc]')[0].value		    , ver = $$('input[name=verify]')[0].value		    , wanted = '6b96798cfb34e0078e8b56a19c23a8c647b99933';  	    console.log(enc,wanted);                               	    $('results').adopt(new Element('li').appendText('No Conf:' + ((enc === wanted) ? 'Passed' : 'Failed')));	}	function testMeConf(){        var enc = $$('input[name=enc1]')[0].value            , ver = $$('input[name=verify1]')[0].value            , wanted = '7f9ac556b41d9a75d9804e49b58041451010db17';         console.log(enc,wanted);                                                                       $('results').adopt(new Element('li').appendText('No Conf:' + ((enc === wanted) ? 'Passed' : 'Failed')));    }    $('no_config').addEvent('click',provideNoConfigForm);    $('with_config').addEvent('click',function(){        function my_crypt(str){            return hex_sha1('12'+str+'34');        }            	UserAtuh = {    		    'form_id' : 'login-form1'    		    , 'pass_id' : 'pwd' //password field id    		    , 'name_id' : 'user' // user name field id    		    , 'key_id'  : 'key' // temp-key field id    		    , 'verify_name' : 'verify1' //verification field name    		    , 'enc_name' : 'enc1' // encrypted hash field name    		    , encrypt : my_crypt // a function to use for hashing the password - should be the same one used to store the passwords on the database.     		};        provideConfigForm();    });	</script></body></html>